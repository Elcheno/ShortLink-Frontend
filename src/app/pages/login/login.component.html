<main class="w-full h-[90vh] flex flex-col justify-center content-center gap-60">

  <section class="bg-black-light w-[80%] lg:w-[40%] 3xl:w-[30%] mx-auto rounded-lg flex flex-col gap-4">
    <div class="flex justify-center items-center">
      <h1 class="text-white-primary text-3xl m-4 font-semibold">Account Login</h1>
    </div>

    <div>
      <form [formGroup]="formLogin" (ngSubmit)="onSubmit()" class="flex flex-col gap-7 justify-center align-middle">

        <div class="flex flex-row justify-center gap-2 items-center">
          <svg style="margin-top: 6px; align-self: start" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-at-sign"><circle cx="12" cy="12" r="4"/><path d="M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8"/></svg>
          <div class="flex flex-col w-[70%] lg:w-[50%] 3xl:w-[45%] items-center">
            <input #email formControlName="email" type="text" placeholder="example@example.com" class="bg-black-ultralight rounded-lg h-8 px-2 py-4 w-full border border-black-light outline-none" required>
            <hr 
              class="my-[5px] border-black-light border-2 transition-colors rounded-full w-full" 
              [class]="email.value !== '' 
                ? this.formLogin.controls['email'].valid 
                  ? 'border-green-500' 
                  : 'border-red-500' 
                : 'border-black-light'"
            > 
          </div>
        </div>

        <div class="flex flex-row justify-center gap-2 items-center">
          <svg style="margin-top: 6px; align-self: start" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-lock"><rect width="18" height="11" x="3" y="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
          <div class="w-[70%] lg:w-[50%] 3xl:w-[45%]">
            <div class="flex flex-row flex-nowrap">
              <input #password formControlName="password" [type]="this.showPassword ? 'text' : 'password'" placeholder="********" class="bg-black-ultralight rounded-s-lg h-8 px-2 py-4 w-full outline-none" required>
              <span (click)="onShowPassword()" class="text-white-primary bg-black-ultralight rounded-e-lg px-1 flex justify-center items-center cursor-pointer">
                @if (!this.showPassword) {
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-eye"><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/></svg>
                } @else {
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-eye-off"><path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/></svg>
                }
              </span>
            </div>
            <hr 
              class="my-[5px] border-black-light border-2 transition-colors rounded-full" 
              [class]="password.value !== '' 
                ? this.formLogin.controls['password'].valid 
                  ? 'border-green-500' 
                  : 'border-red-500' 
                : 'border-black-light'"
            > 
          </div>
        </div>    

        <div class="h-4 flex flex-row justify-center text-red-500">
          {{ this.errorForm }}
        </div>

        <button 
          type="submit"
          [disabled]="this.formLogin.invalid"
          class="text-white-primary bg-orange-primary py-2 px-4 rounded-b-lg hover:bg-orange-light disabled:bg-orange-light hover:disabled:bg-orange-light flex flex-row gap-2 items-center justify-center transition-colors select-none">
          @if (this.loaderLogin) {
            <svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white-primary" xmlns="http://www.w3.org/2000/svg" fill="none"
              viewBox="0 0 24 24">
              <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
              <path class="opacity-75" fill="currentColor"
                d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">
              </path>
            </svg>
          }
          Sing In
          @if (this.formLogin.invalid) {
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x-circle"><circle cx="12" cy="12" r="10"/><path d="m15 9-6 6"/><path d="m9 9 6 6"/></svg>
          
          } @else {
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-move-right"><path d="M18 8L22 12L18 16"/><path d="M2 12H22"/></svg>        

          }       
        </button>
      </form>
    </div>
  </section>

  <section class="bg-black-light w-[80%] lg:w-[40%] 3xl:w-[30%] mx-auto rounded-lg flex flex-col gap-4 py-4">
    <p class="text-white-primary text-center">Don't have an account?</p>
    <a routerLink="/register" class="text-orange-primary text-center cursor-pointer hover:underline select-none">Register</a>
  </section>

</main>
